# Frequently Asked Questions

## Compatibility with your site

WordPress and WooCommerce can exist in a very wide variety of versions, hosting environments, traffic filters, PHP versions, additional plugins and themes etc. The star plugin also must work in some slightly unusual ways, to provide a built-in CloudPRNT print spooling system and to generate documents using Star printer command languages and not HTML (the native page language for WordPress). This means that it is not possible to guarantee compatibility with all sites.

> Complete incompatibility with a site is very rare, but if all other options have been exhausted, please talk with your Star Micronics office who may be able to offer alternative methods of integrating your printer with WooCommerce.

## Can I modify the receipt design/template?

The plugin must use the printer page description language to generate print documents, and not HTML like most WordPress plugins. As a result, there is no template that can be modified. The document is generated by php code.

Non-developers are limited to the design options provided by the plugin, such as adding logos, changing the document title, adding custom text after the item list etc. If this is not enough, then you may need to contract a developer to make changes for you.

Developers are free to extend, adapt and fork the plugin as they need. Please see the [Development Guide](development.md) for an overview.

## Is it possible to change the font size?

Currently this is not possible. The plugin is limited to using the fonts built-in to the printer, of which there are typically two (the plugin uses the larger of these two), and these must be scaled horizontally and/or vertically by whole values.

However, this is a regular request, and some level of font size adjustment is being considered for a future update, within the limitations described above.

## A standard WooCommerce field that I need is missing from the print out, can it be added?

This plugin was initially developed for kitchen order or warehouse picking scenarios. Therefore some fields required for a full receipt in your market may not be printed in the way you would like. Also the receipt requirements will vary between markets and regions, especially concerning how to print tax details.

Please let us know, and we will try to incorporate support in a future update if it is possible.

## Extra fields or information from a plugin that I use are not printed, can it be integrated?

The plugin tries to support common third party plugins, however there are a lot and it is not possible to guarantee support for them all. Currently, you will need support from a developer if the information that you need from a third party plugin is not available.

Refer to the [Plugin Compatibility](https://github.com/star-micronics/star-cloudprnt-for-woocommerce/wiki/Plugin-Compatibility) wiki page for some information about the known compatibility of tested plugins.

Future versions of this plugin will allow plugins from other developers to add additional data to the printed order, please contact us for details, or wait for version 2.1 to be made available.

## Can the plugin interface and/or printed order be translated into other languages?

Currently no, version 2.1 will include translation support.

## Will the characters from my language print correctly?

This can depend on the printer model that you are using:

- The mC-Print range, supports UTF-8 encoded Unicode and will support characters from most languages automatically.

- The TSP650II with HIX interface, also supports UTF-8 printing, but has a more limited character set. It may need some configuration to print the language that you require, if full-width fonts are needed.

- Other supported printer models are limited to the Windows Latin 1 (1252) character set, limiting them to languages based on the Latin alphabet, such as English and most European languages.

- No models have built-in support for right-to-left languages. If you need right-to-left language support, then Star has alternative methods of integrating the printer with your site that may be more suitable, please contact your local Star office for advice.

# Common Issues

## Sometimes orders do not print, print late, or unexpectedly re-print hours later

This is a known issue when using the WooCommerce "Thank You" action hook for triggering print jobs, which was the method used by earlier versions of the plugin.

Please update your site to use version 2.0 or later of the Star CloudPRNT for WooCommerce plugin, and then check your print job trigger settings to choose a more appropriate option.

## Printer is not detected by the plugin

In case you have correctly installed the plugin to your site, and configured your printer to use the correct CloudPRNT URL, but your site is still not able to detect your printer connection, please check the following potential causes.

- **Printer internet connection**
Please verify that your printer is connected by Lan or WiFi to a network that is able to provide an outgoing internet connection - or at least is able to reach your WordPress site.

- **Polling time**
Check your printer CloudPRNT settings, and ensure that the polling time is set to 10s or lower. A very high polling time can make the printer appear to be unresponsive.

- **Printer firmware**
Ensure that your printer has up-to-date firmware. Most commonly this is required for mC-Print models to connect to certain weh hosts - see TLS/Https Encryption below.

- **TLS/Https Encryption Level (mP-Print models only)**
Some hosting providers have stricter requirements for the https/TLS encryption required to communicate with them.
If using an mC-Print model, then you will need at least version 3.0 firmware to support the latest https cypher suite security levels. You should also check that these are enabled by accessing the printer configuration pages, and checking the **CloudPRNT** ➔ **HTTPS Client Settings** ➔ **Cipher Suites Encryption Level** setting, which should be set to **"High + Medium"** for the best compatibility.

- **Local firewall**
Some ISPs provide routers with built-in firewall rules which can prevent new devices from being able to establish an outgoing internet connection. Please check your router settings to see if you are required to register devices to grant internet access.

- **Caching**
Some hosting companies will implement very heavy server side traffic caching, often even for pages that request not to be cached. This can increase performance of their sites significantly, but will completely block a CloudPRNT device from being able to communicate with your site.
This is also likely to be an issue if you have chosen to access your site via a traffic filtering service, such as Cloudflare.
It is necessary to prevent caching for all http GET and POST requests from the printer to your site.
  - If the caching is provided by your hosting company, then usually, they will be able disable forced caching on CloudPRNT URL for your site.
  - If using a separate caching service, then you may be able to disable caching for your sites CloudPRNT URL, or configure your printer to access your site directly, instead of via the caching service.

## Printer has connected initially, but shortly after has become unresponsive or is now shown as disconnected

Double-check that your printer side Polling Time setting is not too high, 10s or lower is recommended for use with this plugin.

These symptoms are caused by server or host side caching. Please see the advice above about handling Caching issues.

## Printer has been working well for some time, but has stopped printing or is shown as disconnected

As a first step, please check your local internet connection and cabling to ensure that the printer is able to communicate with your WooCommerce site. if any LED's are flashing on your printer, this may indicate a loss of network connection, consult the documentation for your printer model to diagnose the meaning.

After resolving any local internet problems (i.e. router reset, re-connecting Ethernet cables), it may be necessary to restart the printer to ensure that it is assigned an IP address from your router.

It is also possible that you hosting company has updated their https security requirements, and you may need to update printer firmware (if it is an mC-Print with firmware lower than version 3.0) and ensure that "High + Medium" cypher suite security mode is enabled.

## Print jobs are re-printing continuously

Essentially, there are two potential causes of re-printing. 
- Either the printer is unable to inform your server that it has completed printing (usually an http caching issue) or...
- Your web server is prevented from deleting the local print job file (a user permissions issue).

Both of these are somewhat difficult to manage from the plugin POV, but the caching issue is by far the more frequent cause. 
A file system permission issue will generally cause other problems too, like being unable to remove other plugins. 
Our http responses already include the necessary headers to prevent caching, but some web services do so regardless.
In most cases, asking your hosting company to disable all http caching for your CloudPRNT URL will resolve the problem. 
We are looking into options that will help us to work around http caches that do not honour the header requests such as ensuring that the request URL contains a query parameter that changes for each request.
